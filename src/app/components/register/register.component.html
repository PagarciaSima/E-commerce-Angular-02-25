<div class="container">
    <div class="card mt-5 px-5 py-3 text-success">
        <div class="text-center"><h2><i class="fa-solid fa-user text-success me-3"></i>Login</h2></div>
        <form class="mt-3" #loginForm="ngForm" (ngSubmit)="login(loginForm)" novalidate>
            <input class="form-control mb-3" 
                type="text" 
                name="userName" 
                id="userName" 
                placeholder="Enter your username" 
                [(ngModel)]="userName" 
                required 
                pattern="^\S{4,}$"
                minlength="4" 
                #userNameField="ngModel">
                
            <!-- Mostrar mensaje de error cuando el nombre de usuario sea corto -->
            <div *ngIf="userNameField.errors?.['pattern'] && userNameField.dirty" class="alert alert-danger">
                <div class="fw-bold mb-2">Username must be at least 4 characters long and cannot have spaces.</div>
            </div>
        
            <input class="form-control mb-3" 
                type="password"  
                name="userPassword" 
                id="userPassword" 
                placeholder="Enter your password" 
                [(ngModel)]="userPassword" 
                required 
                minlength="8"
                pattern="^(?=.*[0-9])(?=.*[a-z])(?=.*[A-Z])(?=.*[@#$%^&+=!])\S{8,}$"
                #userPasswordField="ngModel">
        
            <!-- Mostrar el mensaje de error de inmediato sin esperar a touched -->
            <div *ngIf="userPasswordField.errors?.['pattern'] && userPasswordField.dirty" class="alert alert-danger">
                <div class="fw-bold mb-2">Password must contain:</div>
                <ul>
                    <li>At least one digit</li>
                    <li>At least one lowercase letter</li>
                    <li>At least one uppercase letter</li>
                    <li>At least one special character (&#64; # $ % ^ &amp; + = !)</li>
                    <li>No spaces</li>
                </ul>
            </div>
        
            <button type="submit" class="btn btn-success mb-3" [disabled]="loginForm.invalid">
                <i class="fa-solid fa-right-to-bracket me-2"></i>Login
            </button>
        </form>
        
    </div>
</div>
